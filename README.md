# Street Art Supplies Shop

Онлайн-магазин товаров для стрит-арта и граффити. Проект предоставляет платформу для покупки профессиональных материалов для уличного искусства, включая краски, маркеры, трафареты и другие необходимые инструменты.

## Функциональность

- Система аутентификации и авторизации пользователей
- Каталог товаров для стрит-арта с категориями
- Детальные карточки товаров с описанием и характеристиками
- Корзина покупок
- Система заказов и отслеживания статуса
- Управление профилем пользователя
- Система уведомлений о статусе заказов
- Управление балансом и платежами

## Дизайн

Проект использует современный урбанистический дизайн с цветовой палитрой, вдохновленной стрит-артом:

- Jet Black (#1A1A1A) - основной фон и текст
- Neon Red (#FF3B3F) - акценты и кнопки
- Electric Blue (#00AEEF) - вторичные акценты
- Concrete Grey (#CCCCCC) - вспомогательные элементы
- Spray White (#F9F9F9) - фон карточек и модальных окон

## Структура проекта

```
.
├── server/                 # Серверная часть приложения
│   ├── db/                # Конфигурация и миграции базы данных
│   ├── handlers/          # Обработчики HTTP-запросов
│   │   ├── api/          # API обработчики
│   │   └── pages/        # Обработчики страниц
│   ├── models/            # Модели данных
│   ├── routes/            # Маршрутизация API
│   │   └── middlewares/  # Промежуточное ПО
│   ├── services/          # Бизнес-логика приложения
│   ├── static/            # Статические файлы
│   ├── orders-manager/    # Модуль управления заказами
│   ├── main.go           # Точка входа приложения
│   ├── go.mod            # Файл зависимостей Go
│   └── .env_example      # Пример конфигурационного файла
```

## API Endpoints

### Аутентификация
- `POST /api/login` - Вход в систему
- `POST /api/register` - Регистрация нового пользователя
- `GET /api/logout` - Выход из системы

### Профиль пользователя
- `GET /profile` - Просмотр профиля
- `GET /profile/edit` - Страница редактирования профиля
- `POST /api/profile/edit_profile` - API для редактирования профиля

### Продукты
- `GET /` - Главная страница
- `GET /products` - Список всех продуктов
- `GET /products/{category_id}` - Продукты по категории
- `GET /product/{id}` - Детальная страница продукта

### Корзина
- `GET /profile/cart` - Просмотр корзины
- `POST /api/product/cart` - Добавление в корзину
- `POST /api/product/cart/{id}/clear` - Очистка корзины
- `POST /api/product/cart/{cart_id}/delete/{product_id}` - Удаление продукта из корзины

### Заказы
- `GET /profile/orders` - Список заказов
- `GET /profile/order/{id}` - Детали заказа

### Баланс и платежи
- `POST /api/balance/deposit` - Пополнение баланса
- `POST /api/balance/purchase` - Совершение покупки

## Технологии

- Backend: Go 1.24
- База данных: PostgreSQL
- Маршрутизация: Gorilla Mux
- Аутентификация: Gorilla Sessions
- Миграции: golang-migrate

## Требования

- Go 1.24 или выше
- PostgreSQL
- git

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Hirogava/street_art
cd street-art
```

2. Настройте базу данных:
- Создайте базу данных PostgreSQL
- Создайте файл `.env` на основе `.env_example` и заполните необходимые параметры:
  ```
  DB_CONNECTION_STRING="user=your_user password=your_password dbname=projectDB sslmode=disable"
  SERVER_PORT="8080"
  SESSION_KEY="your_session_key"
  ```

3. Установите зависимости:
```bash
cd server
go mod download
```

4. Примените миграции базы данных:
```bash
# Убедитесь, что у вас установлен golang-migrate
migrate -path db/migrations -database "postgres://user:password@localhost:5432/projectDB?sslmode=disable" up
```

5. Запустите сервер:
```bash
go run main.go
```

Сервер будет доступен по адресу: `http://localhost:8080`

## Безопасность

- Используется безопасное хранение сессий
- Пароли хешируются перед сохранением в базу данных
- Все конфиденциальные данные хранятся в переменных окружения
- Защищенные маршруты требуют аутентификации
- Используется middleware для проверки авторизации