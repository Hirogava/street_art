<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Профиль - Street Art Supplies</title>
    <link rel="stylesheet" href="/static/css/variables.css">
    <link rel="stylesheet" href="/static/css/layout.css">
    <link rel="stylesheet" href="/static/css/common.css">
    <link rel="stylesheet" href="/static/css/profile.css">
    <link rel="stylesheet" href="/static/css/notifications.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    {{template "header" .}}

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="profile-container">
                <div class="profile-card">
                    <h1 class="profile-title">{{.User.Name}}</h1>
                    <div class="profile-info">
                        <p><strong>Email:</strong> {{.User.Email}}</p>
                        <p><strong>Телефон:</strong> {{.User.Phone}}</p>
                        <p><strong>Адрес:</strong> {{.User.Address}}</p>
                        <div class="balance">
                            <span>Баланс:</span>
                            <span class="balance-amount">{{.User.Balance}} ₽</span>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <a href="/profile/cart" class="btn btn-primary">Перейти в корзину</a>
                        <a href="/profile/orders" class="btn btn-secondary">Мои заказы</a>
                        <a href="/profile/edit" class="btn btn-edit">Редактировать профиль</a>
                        <button class="btn btn-primary" onclick="openModal()">Пополнить баланс</button>
                    </div>

                    {{if gt .User.Balance 0.0}}
                    <div class="products-promo">
                        <a href="/products" class="products-link">
                            У вас есть средства! Посмотреть товары →
                        </a>
                    </div>
                    {{end}}
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    {{template "footer" .}}

    <!-- Modal -->
    <div id="depositModal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">Пополнение баланса</h2>
            <div class="form-group">
                <label for="amount" class="form-label">Сумма пополнения</label>
                <input type="number" id="amount" class="form-input" placeholder="Например, 500">
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="deposit()">Пополнить</button>
                <button class="btn btn-secondary" onclick="closeModal()">Отмена</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <script src="/static/js/profile.js"></script>
</body>
</html>