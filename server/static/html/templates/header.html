{{define "header"}}
<style>
    .highlighted {
        animation: highlight 1s ease-in-out;
    }

    @keyframes highlight {
        0%   { background-color: rgba(255, 255, 150, 0.6); }
        100% { background-color: transparent; }
    }

    .soft-highlight {
        background-color: rgba(255, 255, 150, 0.6);
        border-radius: 4px;
        transition: background-color 1s ease;
    }

    .soft-highlight.fadeout {
        background-color: transparent;
    }
    
    .highlighted h3,
    .highlighted p,
    .highlighted ul {
        display: inline;
        background-color: rgba(255, 255, 150, 0.6);
        padding: 0 4px;
        border-radius: 4px;
        animation: highlight 1s ease-in-out;
    }
</style>

<header class="header">
    <div class="container header-container">
        <div class="logo">
            <a href="/">
                <img src="/static/img/logo2.png" alt="Street Art Supplies">
            </a>
        </div>
        <nav class="nav">
            <a href="/products" class="nav-link">Каталог</a>
            <div class="dropdown">
                <a href="#" class="nav-link">Категории</a>
                <div class="dropdown-content">
                    {{range .Categories}}
                    <a href="/products/{{.Id}}" class="dropdown-item">{{.Name}}</a>
                    {{end}}
                </div>
            </div>
            <a href="#company" class="nav-link scroll-and-highlight" data-target="company">О магазине</a>
            <a href="#contacts" class="nav-link scroll-and-highlight" data-target="contacts">Контакты</a>
        </nav>
        <div class="user-menu">
            {{if .User}}
                <a href="/profile/cart" class="nav-link">Корзина</a>
                <div class="dropdown">
                    <div class="user-avatar">S</div>
                    <div class="dropdown-content">
                        <a href="/profile" class="dropdown-item">Профиль</a>
                        <a href="/profile/orders" class="dropdown-item">Заказы</a>
                        <a href="/api/logout" class="dropdown-item">Выйти</a>
                    </div>
                </div>
            {{else}}
                <a href="/login" class="nav-link">Войти</a>
                <a href="/register" class="nav-link register-link">Регистрация</a>
            {{end}}
        </div>
    </div>
</header>
{{end}}